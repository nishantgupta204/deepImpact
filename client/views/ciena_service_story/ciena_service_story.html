<template name="CienaServiceStory">
	<div class="page-container container" id="content">
		<div class="row" id="title_row">
			<div class="col-md-12">
				<h2 id="page_title" class="pull-left">
					Service Activation on the Ciena Domain
				</h2>
				<div id="page_menu" class="pull-right">
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-8">
				<div class="media">
					<div class="media-body">
						{{#with domain}}
						<h5>Domain Status {{domainType}}<span class="label label-primary label-success"><strong>{{operationMode}}</strong></span></h5>
						{{/with}} 
					</div>
				</div>
			</div>
		</div>
		<div class="{{#if serviceStory.type}}hidden{{/if}}">
		{{> CienaServiceStoryType}}
		</div>
		<div class="{{#if $eq serviceStory.type "CE"}}{{else}}hidden{{/if}}">
		<div class="{{#if serviceStory.pipe}}hidden{{/if}}">		
		{{> CienaServiceStoryCEPipe}}
		</div>
		<div class="{{#if serviceStory.topo}}hidden{{/if}}">
		{{> CienaServiceStoryCETopo}} 
		</div>
		</div>
		<div class="{{#if serviceStory.bundling}}hidden{{/if}}">
		{{> CienaServiceStoryBundling }}
		</div>
		<div class="">
		{{> CienaServiceStoryHeader }}
		</div>

	</div>
</template>


<template name="CienaServiceStoryType">
	<div class="panel panel-info col-md-12">

		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>Service Type Selection</h3>
		</div>
		<div class="panel panel-body text-center">
			<div class="col-md-4 ">

				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h2 id="component-title">
							<img src="/images/CarrierEthernet.png" class="img-responsive">
						</h2>
						<p id="jumbotron-text">
							Carrier Ethernet
						</p>
						<p id="jumbotron-button">
							<a class="btn btn-lg btn-{{#if $eq serviceStory.type "CE"}}success{{else}}primary{{/if}} CE" role="button">Select »</a>
						</p>
					</div>
				</div>

			</div>
			<div class="col-md-4">

				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h2 id="component-title">
							<img src="/images/SIP.png" class="img-responsive center-block">
						</h2>
						<p id="jumbotron-text">
							Voice
						</p>
						<p id="jumbotron-button">
							<a class="btn btn-lg btn-{{#if $eq serviceStory.type "sip"}}success{{else}}primary{{/if}} sip" role="button">Select »</a>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-4">


				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h2 id="component-title">
							<img src="/images/internet.png" width="90" class="img-responsive center-block">
						</h2>
						<p id="jumbotron-text">
							Internet
						</p>
						<p id="jumbotron-button">
							<a class="btn btn-lg btn-{{#if $eq serviceStory.type "internet"}}success{{else}}primary{{/if}} internet" role="button">Select »</a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="CienaServiceStoryCEPipe">
	<div class="panel panel-info {{#if $eq serviceStory.type "CE"}}{{else}}hidden{{/if}}">

		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>ePIPE Selection</h3>
		</div>
		<div class="panel panel-body text-center">
			<div class="col-md-6">

				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h1 id="component-title">

						</h1>
						<p id="jumbotron-text">
							ePIPE is a dedicated pipe over TDM
						</p>
						<p id="jumbotron-button">
							<a class="btn btn-lg btn-primary pipeTrue" role="button">Yes »</a>
						</p>
					</div>
				</div>


			</div>
			<div class="col-md-6">

				<div class="jumbotron ">
					<div id="content" class="container ">
						<h1 id="component-title">

						</h1>
						<p id="jumbotron-text">
							non ePIPE traverses a switched core
						</p>
						<p id="jumbotron-button">
							<a class="btn btn-lg btn-primary pipeFalse" role="button">No »</a>
						</p>
					</div>
				</div>

			</div>

		</div>
	</div>
</template>

<template name="CienaServiceStoryCETopo">
	<div class="panel panel-info {{#if $eq serviceStory.type "CE"}}{{else}}hidden{{/if}}">

		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>Service Topology Selection</h3>
		</div>

		<div class="panel panel-body">
			<div class="col-md-4 text-center">
				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h1 id="component-title">
							<a href="https://wiki.mef.net/display/CESG/E-Line" target="_blank">
								<img src="/images/eLine.png" class="img-responsive">
							</a>
						</h1>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-{{#if $eq serviceStory.topo "eline"}}success{{else}}primary{{/if}} btn-lg eline" role="button">eLine &raquo;</a>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-4 text-center">

				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h1 id="component-title">
							<a href="https://wiki.mef.net/display/CESG/E-LAN" target="_blank">
								<img src="/images/E-LAN.png" class="img-responsive center-block">
							</a>
						</h1>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-{{#if $eq serviceStory.topo "elan"}}success{{else}}primary{{/if}} btn-lg elan" role="button">eLAN &raquo;</a>
						</p>
					</div>
				</div>

			</div>
			<div class="col-md-4">
				<div class="jumbotron text-center">
					<div id="content" class="container text-center">
						<h1 id="component-title">
							<a href="https://wiki.mef.net/display/CESG/E-Access" target="_blank">
								<img src="/images/E-Access.png" class="img-responsive center-block">
							</a>
						</h1>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-{{#if $eq serviceStory.topo "eaccess"}}success{{else}}primary{{/if}} btn-lg eaccess" role="button">eAccess &raquo;</a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="CienaServiceStoryBundling">
	<div class="panel panel-info">

		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>UNI Bundling Option Selection</h3>
		</div>
		<div class="panel panel-body text-center">
			<div class="col-md-6">
				<div class="jumbotron ">
					<div id="content" class="container">
						<h1 id="component-title">
							EP
						</h1>
						<p id="jumbotron-text">
							All customer VLANs are bundled into the EVC
						</p>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-{{#if $eq serviceStory.bundling "P"}}success{{else}}primary{{/if}} btn-lg bundlingEP" role="button">Continue &raquo;</a>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="jumbotron ">
					<div id="content" class="container">
						<h1 id="component-title">
							EVP
						</h1>
						<p id="jumbotron-text">
							Only specified cutomer vlans are bundled into the EVC
						</p>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-{{#if $eq serviceStory.bundling "VP"}}success{{else}}primary{{/if}} btn-lg bundlingEVP" role="button">Continue &raquo;</a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>


<template name="CienaServiceStoryQoS">
	<div class="panel panel-info">

		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>UNI Bundling Option Selection</h3>
		</div>
		<div class="panel panel-body text-center">
			<div class="col-md-6">
				<div class="jumbotron ">
					<div id="content" class="container">
						<h1 id="component-title">
							EP
						</h1>
						<p id="jumbotron-text">
							All customer VLANs are bundled into the EVC
						</p>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-primary btn-lg bundlingEP" role="button">Continue &raquo;</a>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="jumbotron ">
					<div id="content" class="container">
						<h1 id="component-title">
							EVP
						</h1>
						<p id="jumbotron-text">
							Only specified cutomer vlans are bundled into the EVC
						</p>
						<p id="jumbotron-button">
							<a href="#" class="btn btn-primary btn-lg bundlingEVP" role="button">Continue &raquo;</a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</template>


<template name="CienaServiceStoryHeader">
	<div class="panel panel-info">
		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>General Information requirements</h3>
        	<button id="cancelButton" type="button" class="btn btn-sm btn-warning pull-right"><span class="glyphicon glyphicon-refresh"> Restart</span></button>
		</div>
		<div class="panel panel-body text-center">
			<div class="col-md-12">
				<div class="panel-body">
					<form id="createServiceForm" role="form" data-toggle="validator">
							<div class="col-md-3 form-group">
								<label for="customerName" class="text-primary control-label">Customer ID</label>
								<input name="customerName" id="customerName" required class="form-control input-sm" value="">
								<div class="help-block with-errors"></div>
							</div>
							<div class="col-md-3 form-group">
								<label for="serviceName" class="text-primary control-label">Service Name</label>
								<input name="serviceName" id="serviceName" required class="form-control input-sm" value="{{serviceStory.evcID}}">
								<div class="help-block with-errors"></div>
							</div>
							{{#if $eq serviceStory.type "CE"}}
							<div class="col-md-3 form-group">
								<label for="cosID" class="text-primary">Class of Service Identifier</label>
								<select id="cosID" class="form-control input-sm cos-id">
									<option value="EVC">EVC - SCOS</option>
									<option value="PCP">PCP - MCOS</option>
									<option value="DSCP">DSCP - MCOS</option>
								</select>
							</div>
							{{/if}}


								{{#unless $eq serviceStory.topo "elan"}}
								
								<div class="col-md-3 text-center">
					
								<tr>
								<label class="text-primary">Class of Service Config</label>
								</tr>

								<form class="form-inline">
								<div class="form-group">
								{{#if $eq serviceStory.cosId "EVC"}}
									<select id="classOfServiceName" class="form-control input-sm">
										{{#each mcosCfg in mcosCfgs}}
										<option value="{{mcosCfg.classOfServiceName}}">{{mcosCfg.classOfServiceName}}</option>
										{{/each}}
									</select>
									<select id="ingressCir" class="form-control input-sm">
										{{#each bw in bws}}
										<option value="{{bw}}">{{bw}}</option>
										{{/each}}
									</select>		
								{{else}}
								{{#each cosCfg in serviceStory.cosCfg}}
								<tr>
	  								<label for="{{cosCfg.classOfServiceName}}" class="text-primary control-label">{{cosCfg.classOfServiceName}}</label>
									<select id="{{cosCfg.classOfServiceName}}" class="form-control input-sm">
										{{#each bw in bws}}
										<option value="{{bw}}">{{bw}}</option>
										{{/each}}
									</select>
								</tr>
  
								{{/each}}
								{{/if}}
 								</div>
								</form>
								</div>
								{{/unless}}





					</form>
				</div>
			</div>
		</div>
		<div id="panelTitle" class="panel-heading form-group" style="overflow: hidden;">
			<h3>Endpoint Information</h3>
		</div>
		<div class="panel panel-body text-center">
			<div class="row col-md-12">
			
			{{#each endpoint in serviceStory.endpoints}}
			{{#let endpointIndex=@index}}				

				<div class="row row-bordered">
					<form id="endpoints" role="form" data-toggle="validator">
						<div class="col-md-2">
							<h3>
								Device
							</h3>
							<div class="media-body">
								<select id="{{endpointIndex}}" class="form-control input-sm device-id" default="">
									<option disabled selected="EVC">{{endpoint.properties.device}}</option>
										<!-- TODO: Device List here-->									
									<option value="device1">Device list here</option>
								</select>
							</div>
						</div>
						<div class="row col-md-offset-1 col-md-4">
							{{#each enni in endpoint.properties.ennis}}
								<h3 id="component-title">
									ENNI
								</h3>

								<div class="media-body">
									<label for="enniId" class="text-primary control-label ">Port</label>
									<select name="enniId" id="{{endpointIndex}}" class="form-control input-sm enni-id">
										<option disabled selected="default">Select...</option>
										<!-- TODO: Port List here-->																			
										<option value="1">1</option>
										<option value="2">2</option>
									</select>
								</div>
								<div class="media-body">
									<label for="tpidId" class="text-primary control-label">Ethertype</label>
									<select name="tpiId" id="{{endpointIndex}}" class="form-control input-sm tpid-id">
										<option value="8100">8100</option>
										<option value="88A8">88A8</option>
										<option value="9100">9100</option>
									</select>
								</div>

							{{/each}}
							{{#each uni in endpoint.properties.unis}}
								<h3 id="component-title">
									UNI
								</h3>

								<div class="media-body">
									<label for="uniId" class="text-primary control-label">Port</label>
									<select name="uniId" id="{{endpointIndex}}" class="form-control input-sm uni-id">
										<option disabled selected="default">Select...</option>
										<!-- TODO: Port List here-->																			
										<option value="1">1</option>
										<option value="2">2</option>
									</select>
								</div>
								{{#if $eq serviceStory.topo "eaccess"}}
								<div class="media-body">
									<label for="l2cpId" class="text-primary control-label">Ctrl Prot Tunnel</label>
									<select name="l2cpId" id="{{endpointIndex}}" class="form-control input-sm l2cp-id">
										<option value="transparent">transparent</option>
										<option value="l2pt">l2pt</option>
									</select>
								</div>						
								{{/if}}
								{{#if $eq serviceStory.bundling "VP"}}
								<div class="media-body">
									<label for="ctagId" class="text-primary control-label">CVLANs</label>
									<input name="ctagId" id="{{endpointIndex}}" class="form-control input-sm ctag-id" value="">
									<div class="help-block with-errors"></div>
								</div>
								<div class="checkbox">
									<label>
										<input id="{{endpointIndex}}" type="checkbox" class="untagged-id">
										untagged
									</label>
								</div>				
								{{/if}}
								{{#if $eq serviceStory.topo "elan"}}
								<div class="row">
								
								<h3 id="component-title">
									Class of Service Config
								</h3>
								{{#each cosCfg in cosCfg}}
								<!--TODO: CosCfg for eLAN-->
								{{/each}}
								</div>
								{{/if}}
							{{/each}}
						</div>
						<div class="row col-md-offset-1 col-md-4">
							{{#each inni in endpoint.properties.innis}}
								<h3 id="component-title">
									INNI
								</h3>

								<div class="media-body">
									<label for="inni" class="text-primary control-label">Port</label>
									<select name="inni" required id="{{endpointIndex}}" class="form-control input-sm inni-id">
										<option disabled selected="default">Select...</option>
										<!-- TODO: Port List here-->
										<option value="5">5</option>
										<option value="6">6</option>
									</select>
								</div>
						
								<div class="media-body">
									<label for="stag" class="text-primary control-label">Core VLAN</label>
									<input name="stag" required id="{{endpointIndex}}" class="form-control input-sm stag-id" value="">
									<div class="help-block with-errors"></div>
								</div>
							{{/each}}
						</div>
					</form>
				</div>
			{{/let}}
			{{/each}}
			</div>
			{{#if $eq serviceStory.topo "elan"}}
			<tr class="row">
			<button type="button" class="btn btn-success device-add">New</button>
			</tr>
			 {{/if}}

		</div >
		<div class="text-center">
		<button type="button" class="btn btn-lg btn-success service-save">Save</button>
		</div>

		<div class="panel panel-body">

					{{#each endpoint in serviceStory.endpointsText}}

							<div class="col-md-4">
								<pre>{{endpoint}}</pre>
							</div>
					{{/each}}


		</div>

	</div>
</template>

